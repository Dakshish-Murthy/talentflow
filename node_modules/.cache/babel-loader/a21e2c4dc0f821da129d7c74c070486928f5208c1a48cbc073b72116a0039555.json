{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dakshish\\\\talentflow\\\\src\\\\components\\\\candidates\\\\KanbanBoard.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { DndContext, closestCenter, KeyboardSensor, PointerSensor, useSensor, useSensors, DragOverlay } from '@dnd-kit/core';\nimport { sortableKeyboardCoordinates } from '@dnd-kit/sortable';\nimport { useCandidates } from '../../hooks/useCandidates';\nimport StageColumn from './StageColumn';\nimport KanbanCandidateCard from './KanbanCandidateCard';\n\n// Create enhanced candidate interface locally\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst KanbanBoard = ({\n  candidates\n}) => {\n  _s();\n  const {\n    updateCandidateStage\n  } = useCandidates();\n  const [activeId, setActiveId] = useState(null);\n  const stages = ['applied', 'screen', 'tech', 'offer', 'hired', 'rejected'];\n  const sensors = useSensors(useSensor(PointerSensor, {\n    activationConstraint: {\n      distance: 8\n    }\n  }), useSensor(KeyboardSensor, {\n    coordinateGetter: sortableKeyboardCoordinates\n  }));\n  const handleDragStart = event => {\n    setActiveId(event.active.id);\n    document.body.style.cursor = 'grabbing';\n  };\n  const handleDragEnd = event => {\n    const {\n      active,\n      over\n    } = event;\n    setActiveId(null);\n    document.body.style.cursor = '';\n    if (!over) return;\n    const candidateId = active.id;\n\n    // Check if we're dropping on a stage column (the droppable area)\n    const targetStage = over.id;\n\n    // Find the current candidate to get their current stage\n    const currentCandidate = candidates.find(c => c.id === candidateId);\n    if (!currentCandidate) return;\n\n    // Only update if the stage has actually changed\n    if (stages.includes(targetStage) && currentCandidate.stage !== targetStage) {\n      updateCandidateStage(candidateId, targetStage);\n    }\n  };\n  const handleDragOver = event => {\n    const {\n      over\n    } = event;\n    if (!over) return;\n\n    // Add visual feedback for valid drop targets\n    const overElement = document.getElementById(over.id);\n    if (overElement && stages.includes(over.id)) {\n      overElement.classList.add('ring-2', 'ring-blue-500', 'ring-opacity-50');\n    }\n  };\n  const handleDragCancel = () => {\n    setActiveId(null);\n    document.body.style.cursor = '';\n\n    // Remove visual feedback from all stage columns\n    stages.forEach(stage => {\n      const element = document.getElementById(stage);\n      if (element) {\n        element.classList.remove('ring-2', 'ring-blue-500', 'ring-opacity-50');\n      }\n    });\n  };\n  const getCandidatesByStage = stage => {\n    return candidates.filter(candidate => candidate.stage === stage);\n  };\n  const getStageLabel = stage => {\n    const labels = {\n      applied: 'Applied',\n      screen: 'Screening',\n      tech: 'Technical',\n      offer: 'Offer',\n      hired: 'Hired',\n      rejected: 'Rejected'\n    };\n    return labels[stage];\n  };\n  const getStageColor = stage => {\n    const colors = {\n      applied: 'from-blue-500 to-cyan-500',\n      screen: 'from-yellow-500 to-orange-500',\n      tech: 'from-purple-500 to-pink-500',\n      offer: 'from-green-500 to-emerald-500',\n      hired: 'from-emerald-500 to-teal-500',\n      rejected: 'from-red-500 to-pink-500'\n    };\n    return colors[stage];\n  };\n  const getStageDescription = stage => {\n    const descriptions = {\n      applied: 'New applications to review',\n      screen: 'Initial screening phase',\n      tech: 'Technical assessments',\n      offer: 'Offer extended to candidates',\n      hired: 'Successfully hired candidates',\n      rejected: 'Applications not proceeding'\n    };\n    return descriptions[stage];\n  };\n  const activeCandidate = activeId ? candidates.find(c => c.id === activeId) : null;\n  return /*#__PURE__*/_jsxDEV(DndContext, {\n    sensors: sensors,\n    collisionDetection: closestCenter,\n    onDragStart: handleDragStart,\n    onDragEnd: handleDragEnd,\n    onDragOver: handleDragOver,\n    onDragCancel: handleDragCancel,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex space-x-6 p-6 overflow-x-auto min-h-[700px]\",\n      children: stages.map(stage => /*#__PURE__*/_jsxDEV(StageColumn, {\n        stage: stage,\n        candidates: getCandidatesByStage(stage),\n        stageLabel: getStageLabel(stage),\n        stageColor: getStageColor(stage),\n        stageDescription: getStageDescription(stage)\n      }, stage, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DragOverlay, {\n      children: activeCandidate ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"opacity-80 transform rotate-5\",\n        children: /*#__PURE__*/_jsxDEV(KanbanCandidateCard, {\n          candidate: activeCandidate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 11\n      }, this) : null\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 148,\n    columnNumber: 5\n  }, this);\n};\n_s(KanbanBoard, \"wv07I4HSc96Q/vY1WOvytzBD4Gw=\", false, function () {\n  return [useCandidates, useSensors, useSensor, useSensor];\n});\n_c = KanbanBoard;\nexport default KanbanBoard;\nvar _c;\n$RefreshReg$(_c, \"KanbanBoard\");","map":{"version":3,"names":["React","useState","DndContext","closestCenter","KeyboardSensor","PointerSensor","useSensor","useSensors","DragOverlay","sortableKeyboardCoordinates","useCandidates","StageColumn","KanbanCandidateCard","jsxDEV","_jsxDEV","KanbanBoard","candidates","_s","updateCandidateStage","activeId","setActiveId","stages","sensors","activationConstraint","distance","coordinateGetter","handleDragStart","event","active","id","document","body","style","cursor","handleDragEnd","over","candidateId","targetStage","currentCandidate","find","c","includes","stage","handleDragOver","overElement","getElementById","classList","add","handleDragCancel","forEach","element","remove","getCandidatesByStage","filter","candidate","getStageLabel","labels","applied","screen","tech","offer","hired","rejected","getStageColor","colors","getStageDescription","descriptions","activeCandidate","collisionDetection","onDragStart","onDragEnd","onDragOver","onDragCancel","children","className","map","stageLabel","stageColor","stageDescription","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Dakshish/talentflow/src/components/candidates/KanbanBoard.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport {\r\n  DndContext,\r\n  closestCenter,\r\n  KeyboardSensor,\r\n  PointerSensor,\r\n  useSensor,\r\n  useSensors,\r\n  DragEndEvent,\r\n  DragOverEvent,\r\n  DragStartEvent,\r\n  DragOverlay,\r\n} from '@dnd-kit/core';\r\nimport {\r\n  SortableContext,\r\n  horizontalListSortingStrategy,\r\n  sortableKeyboardCoordinates,\r\n} from '@dnd-kit/sortable';\r\nimport { Candidate } from '../../types';\r\nimport { useCandidates } from '../../hooks/useCandidates';\r\nimport StageColumn from './StageColumn';\r\nimport KanbanCandidateCard from './KanbanCandidateCard';\r\n\r\n// Create enhanced candidate interface locally\r\ninterface EnhancedCandidate extends Candidate {\r\n  jobTitle?: string;\r\n  experience?: string;\r\n  location?: string;\r\n  skills?: string[];\r\n}\r\n\r\ninterface KanbanBoardProps {\r\n  candidates: EnhancedCandidate[];\r\n}\r\n\r\nconst KanbanBoard: React.FC<KanbanBoardProps> = ({ candidates }) => {\r\n  const { updateCandidateStage } = useCandidates();\r\n  const [activeId, setActiveId] = useState<string | null>(null);\r\n\r\n  const stages: Candidate['stage'][] = ['applied', 'screen', 'tech', 'offer', 'hired', 'rejected'];\r\n\r\n  const sensors = useSensors(\r\n    useSensor(PointerSensor, {\r\n      activationConstraint: {\r\n        distance: 8,\r\n      },\r\n    }),\r\n    useSensor(KeyboardSensor, {\r\n      coordinateGetter: sortableKeyboardCoordinates,\r\n    })\r\n  );\r\n\r\n  const handleDragStart = (event: DragStartEvent) => {\r\n    setActiveId(event.active.id as string);\r\n    document.body.style.cursor = 'grabbing';\r\n  };\r\n\r\n  const handleDragEnd = (event: DragEndEvent) => {\r\n    const { active, over } = event;\r\n    setActiveId(null);\r\n    document.body.style.cursor = '';\r\n\r\n    if (!over) return;\r\n\r\n    const candidateId = active.id as string;\r\n    \r\n    // Check if we're dropping on a stage column (the droppable area)\r\n    const targetStage = over.id as Candidate['stage'];\r\n    \r\n    // Find the current candidate to get their current stage\r\n    const currentCandidate = candidates.find(c => c.id === candidateId);\r\n    if (!currentCandidate) return;\r\n\r\n    // Only update if the stage has actually changed\r\n    if (stages.includes(targetStage) && currentCandidate.stage !== targetStage) {\r\n      updateCandidateStage(candidateId, targetStage);\r\n    }\r\n  };\r\n\r\n  const handleDragOver = (event: DragOverEvent) => {\r\n    const { over } = event;\r\n    \r\n    if (!over) return;\r\n\r\n    // Add visual feedback for valid drop targets\r\n    const overElement = document.getElementById(over.id as string);\r\n    if (overElement && stages.includes(over.id as Candidate['stage'])) {\r\n      overElement.classList.add('ring-2', 'ring-blue-500', 'ring-opacity-50');\r\n    }\r\n  };\r\n\r\n  const handleDragCancel = () => {\r\n    setActiveId(null);\r\n    document.body.style.cursor = '';\r\n    \r\n    // Remove visual feedback from all stage columns\r\n    stages.forEach(stage => {\r\n      const element = document.getElementById(stage);\r\n      if (element) {\r\n        element.classList.remove('ring-2', 'ring-blue-500', 'ring-opacity-50');\r\n      }\r\n    });\r\n  };\r\n\r\n  const getCandidatesByStage = (stage: Candidate['stage']) => {\r\n    return candidates.filter(candidate => candidate.stage === stage);\r\n  };\r\n\r\n  const getStageLabel = (stage: Candidate['stage']) => {\r\n    const labels = {\r\n      applied: 'Applied',\r\n      screen: 'Screening',\r\n      tech: 'Technical',\r\n      offer: 'Offer',\r\n      hired: 'Hired',\r\n      rejected: 'Rejected',\r\n    };\r\n    return labels[stage];\r\n  };\r\n\r\n  const getStageColor = (stage: Candidate['stage']) => {\r\n    const colors = {\r\n      applied: 'from-blue-500 to-cyan-500',\r\n      screen: 'from-yellow-500 to-orange-500',\r\n      tech: 'from-purple-500 to-pink-500',\r\n      offer: 'from-green-500 to-emerald-500',\r\n      hired: 'from-emerald-500 to-teal-500',\r\n      rejected: 'from-red-500 to-pink-500',\r\n    };\r\n    return colors[stage];\r\n  };\r\n\r\n  const getStageDescription = (stage: Candidate['stage']) => {\r\n    const descriptions = {\r\n      applied: 'New applications to review',\r\n      screen: 'Initial screening phase',\r\n      tech: 'Technical assessments',\r\n      offer: 'Offer extended to candidates',\r\n      hired: 'Successfully hired candidates',\r\n      rejected: 'Applications not proceeding',\r\n    };\r\n    return descriptions[stage];\r\n  };\r\n\r\n  const activeCandidate = activeId ? candidates.find(c => c.id === activeId) : null;\r\n\r\n  return (\r\n    <DndContext\r\n      sensors={sensors}\r\n      collisionDetection={closestCenter}\r\n      onDragStart={handleDragStart}\r\n      onDragEnd={handleDragEnd}\r\n      onDragOver={handleDragOver}\r\n      onDragCancel={handleDragCancel}\r\n    >\r\n      <div className=\"flex space-x-6 p-6 overflow-x-auto min-h-[700px]\">\r\n        {stages.map((stage) => (\r\n          <StageColumn\r\n            key={stage}\r\n            stage={stage}\r\n            candidates={getCandidatesByStage(stage)}\r\n            stageLabel={getStageLabel(stage)}\r\n            stageColor={getStageColor(stage)}\r\n            stageDescription={getStageDescription(stage)}\r\n          />\r\n        ))}\r\n      </div>\r\n      \r\n      <DragOverlay>\r\n        {activeCandidate ? (\r\n          <div className=\"opacity-80 transform rotate-5\">\r\n            <KanbanCandidateCard candidate={activeCandidate} />\r\n          </div>\r\n        ) : null}\r\n      </DragOverlay>\r\n    </DndContext>\r\n  );\r\n};\r\n\r\nexport default KanbanBoard;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SACEC,UAAU,EACVC,aAAa,EACbC,cAAc,EACdC,aAAa,EACbC,SAAS,EACTC,UAAU,EAIVC,WAAW,QACN,eAAe;AACtB,SAGEC,2BAA2B,QACtB,mBAAmB;AAE1B,SAASC,aAAa,QAAQ,2BAA2B;AACzD,OAAOC,WAAW,MAAM,eAAe;AACvC,OAAOC,mBAAmB,MAAM,uBAAuB;;AAEvD;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAYA,MAAMC,WAAuC,GAAGA,CAAC;EAAEC;AAAW,CAAC,KAAK;EAAAC,EAAA;EAClE,MAAM;IAAEC;EAAqB,CAAC,GAAGR,aAAa,CAAC,CAAC;EAChD,MAAM,CAACS,QAAQ,EAAEC,WAAW,CAAC,GAAGnB,QAAQ,CAAgB,IAAI,CAAC;EAE7D,MAAMoB,MAA4B,GAAG,CAAC,SAAS,EAAE,QAAQ,EAAE,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,UAAU,CAAC;EAEhG,MAAMC,OAAO,GAAGf,UAAU,CACxBD,SAAS,CAACD,aAAa,EAAE;IACvBkB,oBAAoB,EAAE;MACpBC,QAAQ,EAAE;IACZ;EACF,CAAC,CAAC,EACFlB,SAAS,CAACF,cAAc,EAAE;IACxBqB,gBAAgB,EAAEhB;EACpB,CAAC,CACH,CAAC;EAED,MAAMiB,eAAe,GAAIC,KAAqB,IAAK;IACjDP,WAAW,CAACO,KAAK,CAACC,MAAM,CAACC,EAAY,CAAC;IACtCC,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACC,MAAM,GAAG,UAAU;EACzC,CAAC;EAED,MAAMC,aAAa,GAAIP,KAAmB,IAAK;IAC7C,MAAM;MAAEC,MAAM;MAAEO;IAAK,CAAC,GAAGR,KAAK;IAC9BP,WAAW,CAAC,IAAI,CAAC;IACjBU,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACC,MAAM,GAAG,EAAE;IAE/B,IAAI,CAACE,IAAI,EAAE;IAEX,MAAMC,WAAW,GAAGR,MAAM,CAACC,EAAY;;IAEvC;IACA,MAAMQ,WAAW,GAAGF,IAAI,CAACN,EAAwB;;IAEjD;IACA,MAAMS,gBAAgB,GAAGtB,UAAU,CAACuB,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACX,EAAE,KAAKO,WAAW,CAAC;IACnE,IAAI,CAACE,gBAAgB,EAAE;;IAEvB;IACA,IAAIjB,MAAM,CAACoB,QAAQ,CAACJ,WAAW,CAAC,IAAIC,gBAAgB,CAACI,KAAK,KAAKL,WAAW,EAAE;MAC1EnB,oBAAoB,CAACkB,WAAW,EAAEC,WAAW,CAAC;IAChD;EACF,CAAC;EAED,MAAMM,cAAc,GAAIhB,KAAoB,IAAK;IAC/C,MAAM;MAAEQ;IAAK,CAAC,GAAGR,KAAK;IAEtB,IAAI,CAACQ,IAAI,EAAE;;IAEX;IACA,MAAMS,WAAW,GAAGd,QAAQ,CAACe,cAAc,CAACV,IAAI,CAACN,EAAY,CAAC;IAC9D,IAAIe,WAAW,IAAIvB,MAAM,CAACoB,QAAQ,CAACN,IAAI,CAACN,EAAwB,CAAC,EAAE;MACjEe,WAAW,CAACE,SAAS,CAACC,GAAG,CAAC,QAAQ,EAAE,eAAe,EAAE,iBAAiB,CAAC;IACzE;EACF,CAAC;EAED,MAAMC,gBAAgB,GAAGA,CAAA,KAAM;IAC7B5B,WAAW,CAAC,IAAI,CAAC;IACjBU,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACC,MAAM,GAAG,EAAE;;IAE/B;IACAZ,MAAM,CAAC4B,OAAO,CAACP,KAAK,IAAI;MACtB,MAAMQ,OAAO,GAAGpB,QAAQ,CAACe,cAAc,CAACH,KAAK,CAAC;MAC9C,IAAIQ,OAAO,EAAE;QACXA,OAAO,CAACJ,SAAS,CAACK,MAAM,CAAC,QAAQ,EAAE,eAAe,EAAE,iBAAiB,CAAC;MACxE;IACF,CAAC,CAAC;EACJ,CAAC;EAED,MAAMC,oBAAoB,GAAIV,KAAyB,IAAK;IAC1D,OAAO1B,UAAU,CAACqC,MAAM,CAACC,SAAS,IAAIA,SAAS,CAACZ,KAAK,KAAKA,KAAK,CAAC;EAClE,CAAC;EAED,MAAMa,aAAa,GAAIb,KAAyB,IAAK;IACnD,MAAMc,MAAM,GAAG;MACbC,OAAO,EAAE,SAAS;MAClBC,MAAM,EAAE,WAAW;MACnBC,IAAI,EAAE,WAAW;MACjBC,KAAK,EAAE,OAAO;MACdC,KAAK,EAAE,OAAO;MACdC,QAAQ,EAAE;IACZ,CAAC;IACD,OAAON,MAAM,CAACd,KAAK,CAAC;EACtB,CAAC;EAED,MAAMqB,aAAa,GAAIrB,KAAyB,IAAK;IACnD,MAAMsB,MAAM,GAAG;MACbP,OAAO,EAAE,2BAA2B;MACpCC,MAAM,EAAE,+BAA+B;MACvCC,IAAI,EAAE,6BAA6B;MACnCC,KAAK,EAAE,+BAA+B;MACtCC,KAAK,EAAE,8BAA8B;MACrCC,QAAQ,EAAE;IACZ,CAAC;IACD,OAAOE,MAAM,CAACtB,KAAK,CAAC;EACtB,CAAC;EAED,MAAMuB,mBAAmB,GAAIvB,KAAyB,IAAK;IACzD,MAAMwB,YAAY,GAAG;MACnBT,OAAO,EAAE,4BAA4B;MACrCC,MAAM,EAAE,yBAAyB;MACjCC,IAAI,EAAE,uBAAuB;MAC7BC,KAAK,EAAE,8BAA8B;MACrCC,KAAK,EAAE,+BAA+B;MACtCC,QAAQ,EAAE;IACZ,CAAC;IACD,OAAOI,YAAY,CAACxB,KAAK,CAAC;EAC5B,CAAC;EAED,MAAMyB,eAAe,GAAGhD,QAAQ,GAAGH,UAAU,CAACuB,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACX,EAAE,KAAKV,QAAQ,CAAC,GAAG,IAAI;EAEjF,oBACEL,OAAA,CAACZ,UAAU;IACToB,OAAO,EAAEA,OAAQ;IACjB8C,kBAAkB,EAAEjE,aAAc;IAClCkE,WAAW,EAAE3C,eAAgB;IAC7B4C,SAAS,EAAEpC,aAAc;IACzBqC,UAAU,EAAE5B,cAAe;IAC3B6B,YAAY,EAAExB,gBAAiB;IAAAyB,QAAA,gBAE/B3D,OAAA;MAAK4D,SAAS,EAAC,kDAAkD;MAAAD,QAAA,EAC9DpD,MAAM,CAACsD,GAAG,CAAEjC,KAAK,iBAChB5B,OAAA,CAACH,WAAW;QAEV+B,KAAK,EAAEA,KAAM;QACb1B,UAAU,EAAEoC,oBAAoB,CAACV,KAAK,CAAE;QACxCkC,UAAU,EAAErB,aAAa,CAACb,KAAK,CAAE;QACjCmC,UAAU,EAAEd,aAAa,CAACrB,KAAK,CAAE;QACjCoC,gBAAgB,EAAEb,mBAAmB,CAACvB,KAAK;MAAE,GALxCA,KAAK;QAAAqC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAMX,CACF;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,eAENpE,OAAA,CAACN,WAAW;MAAAiE,QAAA,EACTN,eAAe,gBACdrD,OAAA;QAAK4D,SAAS,EAAC,+BAA+B;QAAAD,QAAA,eAC5C3D,OAAA,CAACF,mBAAmB;UAAC0C,SAAS,EAAEa;QAAgB;UAAAY,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAChD,CAAC,GACJ;IAAI;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACG,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACJ,CAAC;AAEjB,CAAC;AAACjE,EAAA,CA9IIF,WAAuC;EAAA,QACVL,aAAa,EAK9BH,UAAU,EACxBD,SAAS,EAKTA,SAAS;AAAA;AAAA6E,EAAA,GAZPpE,WAAuC;AAgJ7C,eAAeA,WAAW;AAAC,IAAAoE,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}