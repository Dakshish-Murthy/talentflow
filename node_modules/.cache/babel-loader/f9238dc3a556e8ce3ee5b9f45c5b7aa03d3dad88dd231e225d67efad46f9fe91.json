{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dakshish\\\\talentflow\\\\src\\\\components\\\\candidates\\\\JobApplication.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { useJobs } from '../../hooks/useJobs';\nimport { useCandidates } from '../../hooks/useCandidates';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst JobApplication = () => {\n  _s();\n  const {\n    jobId\n  } = useParams();\n  const navigate = useNavigate();\n  const {\n    jobs,\n    loadJobs\n  } = useJobs();\n  const {\n    createCandidate\n  } = useCandidates();\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [currentStep, setCurrentStep] = useState(1);\n  const [formData, setFormData] = useState({\n    name: '',\n    email: '',\n    phone: '',\n    coverLetter: '',\n    resume: null\n  });\n\n  // Load jobs on component mount\n  useEffect(() => {\n    loadJobs({\n      page: 1,\n      pageSize: 100,\n      // Load enough jobs to find the specific one\n      search: '',\n      status: 'active'\n    });\n  }, [loadJobs]);\n  const job = jobs.find(j => j.id === jobId);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!job) return;\n    setIsSubmitting(true);\n    try {\n      const candidateData = {\n        name: formData.name,\n        email: formData.email,\n        phone: formData.phone,\n        stage: 'applied',\n        jobId: job.id,\n        jobTitle: job.title,\n        resume: formData.resume ? `resume-${Date.now()}.pdf` : undefined,\n        notes: formData.coverLetter || 'No cover letter provided',\n        location: 'Remote',\n        // Default location\n        experience: 'Not specified',\n        // Default experience\n        skills: job.tags || [] // Use job tags as default skills\n      };\n      await createCandidate(candidateData);\n      navigate('/application/success', {\n        state: {\n          jobTitle: job.title\n        }\n      });\n    } catch (error) {\n      console.error('Failed to submit application:', error);\n      alert('Failed to submit application. Please try again.');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  // ... rest of the component remains the same until the job not found section\n\n  if (!job) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50/30 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center bg-white/80 backdrop-blur-sm rounded-2xl p-8 border border-white/20 shadow-soft\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-16 h-16 bg-gradient-to-r from-red-500 to-pink-500 rounded-full flex items-center justify-center mx-auto mb-4\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-8 h-8 text-white\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M6 18L18 6M6 6l12 12\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-bold text-gray-900 mb-2\",\n          children: \"Job Not Found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 mb-6\",\n          children: jobs.length === 0 ? 'No jobs are currently available. Please check back later.' : 'The job you\\'re looking for doesn\\'t exist or has been closed.'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/browse-jobs'),\n          className: \"px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:from-blue-700 hover:to-purple-700 transition-all duration-200 transform hover:scale-105\",\n          children: \"Browse Available Jobs\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this);\n  }\n\n  // ... rest of the component\n};\n_s(JobApplication, \"ygCTitzcS1AuHb3k18mVgOa9ytc=\", false, function () {\n  return [useParams, useNavigate, useJobs, useCandidates];\n});\n_c = JobApplication;\nvar _c;\n$RefreshReg$(_c, \"JobApplication\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","useJobs","useCandidates","jsxDEV","_jsxDEV","JobApplication","_s","jobId","navigate","jobs","loadJobs","createCandidate","isSubmitting","setIsSubmitting","currentStep","setCurrentStep","formData","setFormData","name","email","phone","coverLetter","resume","page","pageSize","search","status","job","find","j","id","handleSubmit","e","preventDefault","candidateData","stage","jobTitle","title","Date","now","undefined","notes","location","experience","skills","tags","state","error","console","alert","className","children","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","fileName","_jsxFileName","lineNumber","columnNumber","length","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Dakshish/talentflow/src/components/candidates/JobApplication.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { useJobs } from '../../hooks/useJobs';\r\nimport { useCandidates } from '../../hooks/useCandidates';\r\nimport LoadingSpinner from '../common/LoadingSpinner';\r\n\r\nconst JobApplication: React.FC = () => {\r\n  const { jobId } = useParams<{ jobId: string }>();\r\n  const navigate = useNavigate();\r\n  const { jobs, loadJobs } = useJobs();\r\n  const { createCandidate } = useCandidates();\r\n  \r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [currentStep, setCurrentStep] = useState(1);\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    email: '',\r\n    phone: '',\r\n    coverLetter: '',\r\n    resume: null as File | null,\r\n  });\r\n\r\n  // Load jobs on component mount\r\n  useEffect(() => {\r\n    loadJobs({\r\n      page: 1,\r\n      pageSize: 100, // Load enough jobs to find the specific one\r\n      search: '',\r\n      status: 'active',\r\n    });\r\n  }, [loadJobs]);\r\n\r\n  const job = jobs.find(j => j.id === jobId);\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!job) return;\r\n\r\n    setIsSubmitting(true);\r\n    try {\r\n      const candidateData = {\r\n        name: formData.name,\r\n        email: formData.email,\r\n        phone: formData.phone,\r\n        stage: 'applied' as const,\r\n        jobId: job.id,\r\n        jobTitle: job.title,\r\n        resume: formData.resume ? `resume-${Date.now()}.pdf` : undefined,\r\n        notes: formData.coverLetter || 'No cover letter provided',\r\n        location: 'Remote', // Default location\r\n        experience: 'Not specified', // Default experience\r\n        skills: job.tags || [], // Use job tags as default skills\r\n      };\r\n\r\n      await createCandidate(candidateData);\r\n\r\n      navigate('/application/success', { \r\n        state: { jobTitle: job.title } \r\n      });\r\n    } catch (error) {\r\n      console.error('Failed to submit application:', error);\r\n      alert('Failed to submit application. Please try again.');\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  // ... rest of the component remains the same until the job not found section\r\n\r\n  if (!job) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50/30 flex items-center justify-center\">\r\n        <div className=\"text-center bg-white/80 backdrop-blur-sm rounded-2xl p-8 border border-white/20 shadow-soft\">\r\n          <div className=\"w-16 h-16 bg-gradient-to-r from-red-500 to-pink-500 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n            <svg className=\"w-8 h-8 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n            </svg>\r\n          </div>\r\n          <h1 className=\"text-2xl font-bold text-gray-900 mb-2\">Job Not Found</h1>\r\n          <p className=\"text-gray-600 mb-6\">\r\n            {jobs.length === 0 \r\n              ? 'No jobs are currently available. Please check back later.'\r\n              : 'The job you\\'re looking for doesn\\'t exist or has been closed.'\r\n            }\r\n          </p>\r\n          <button\r\n            onClick={() => navigate('/browse-jobs')}\r\n            className=\"px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:from-blue-700 hover:to-purple-700 transition-all duration-200 transform hover:scale-105\"\r\n          >\r\n            Browse Available Jobs\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // ... rest of the component\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}